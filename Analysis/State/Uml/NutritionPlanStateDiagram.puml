@startuml NutritionPlanStateDiagram
' Nutrition Plan State Diagram

title Biểu đồ Trạng thái cho Module Lập Kế hoạch Dinh dưỡng

[*] --> WaitingForPlanSelection : Bắt đầu

state WaitingForPlanSelection as "Chờ chọn Kế hoạch" {
  
  WaitingForPlanSelection : Hệ thống hiển thị giao diện cho phép người dùng:
  WaitingForPlanSelection : - Chọn một kế hoạch mẫu.
  WaitingForPlanSelection : - Tạo một kế hoạch mới.

}

state WaitingForNewPlanDetails as "Chờ nhập chi tiết Kế hoạch mới" {

  WaitingForNewPlanDetails : Hệ thống hiển thị form để người dùng nhập:
  WaitingForNewPlanDetails : - Các bữa ăn cụ thể.
  WaitingForNewPlanDetails : - Công thức/món ăn cho từng bữa.
  WaitingForNewPlanDetails : - Thời gian ăn.

}

state DisplayingPlanWithAnalysis as "Hiển thị Kế hoạch và Phân tích" {
  
  DisplayingPlanWithAnalysis : Hệ thống hiển thị kế hoạch đã hoàn thành cùng với:
  DisplayingPlanWithAnalysis : - Tổng Calo và Macro.
  DisplayingPlanWithAnalysis : - So sánh với mục tiêu.
  DisplayingPlanWithAnalysis : - Cảnh báo (nếu có).
  DisplayingPlanWithAnalysis : - Checklist mua sắm.
}

WaitingForPlanSelection --> WaitingForNewPlanDetails : Người dùng chọn [Tạo kế hoạch mới]
WaitingForPlanSelection --> DisplayingPlanWithAnalysis : Người dùng chọn [Sử dụng kế hoạch mẫu]

WaitingForNewPlanDetails --> DisplayingPlanWithAnalysis : Người dùng [Lưu kế hoạch]

DisplayingPlanWithAnalysis --> [*] : Kết thúc

@enduml
