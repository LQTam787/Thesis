@startuml ShareModuleAnalysisClass

' ====== Sơ đồ lớp pha phân tích - Module Chia sẻ ======

' Ghi chú giải thích các loại lớp
note as Annotation
  **Stereotypes**
  <<Boundary>> Lớp giao diện người dùng
  <<Control>> Lớp xử lý logic nghiệp vụ
  <<Entity>> Lớp biểu diễn dữ liệu
end note

' Cấu hình giao diện cho biểu đồ
skinparam class {
    ArrowColor #2E86C1
    BorderColor #2E86C1
    BackgroundColor #D6EAF8
    FontName Arial
    FontSize 14
}

' ====== Định nghĩa các lớp ======

' --- Lớp Biên (Boundary Classes) ---
class SharedFeedUI <<Boundary>> {
  + outPostList
  + inSearchQuery
  + subSearchButton
  + subViewDetailsLink
}

class SharedItemDetailUI <<Boundary>> {
  + outItemDetails
  + outLikeCount
  + outCommentList
  + inCommentText
  + subLikeButton
  + subCommentButton
  + subSaveButton
}

' --- Lớp Điều khiển (Control Class) ---
class ShareController <<Control>> {
  + hienThiDanhSachChiaSe()
  + hienThiChiTietChiaSe(itemId)
  + thucHienThich(itemId, userId)
  + thucHienBinhLuan(itemId, userId, commentText)
  + thucHienLuu(itemId, userId)
}

' --- Lớp Thực thể (Entity Classes) ---
class SharedItem <<Entity>> {
  + itemId
  + content
  + privacyLevel
  + creationDate
  + addLike(user)
  + addComment(user, commentText)
  + saveByUser(user)
}

class Comment <<Entity>> {
  + commentId
  + text
  + creationDate
}

class Like <<Entity>> {
  + likeId
  + creationDate
}

class User <<Entity>> {
  + userId
  + userName
  + getSharedFeed()
}

' ====== Định nghĩa các mối quan hệ ======

' --- Quan hệ giữa Giao diện và Điều khiển ---
SharedFeedUI ..> ShareController
SharedItemDetailUI ..> ShareController

' --- Quan hệ giữa Điều khiển và Thực thể ---
ShareController ..> User
ShareController ..> SharedItem
ShareController ..> Comment
ShareController ..> Like

' --- Quan hệ giữa các Thực thể ---
User "1" -- "0..*" SharedItem : "sở hữu" >
User "1" -- "0..*" Like : "thực hiện" >
User "1" -- "0..*" Comment : "viết" >

SharedItem "1" -- "0..*" Like : "có" >
SharedItem "1" -- "0..*" Comment : "có" >

@enduml
